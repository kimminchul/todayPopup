!function(s){s.fn.popupEvent=function(e){var a=s.extend({idx:0,speed:2e3,random:!1,extendingElement:"header",Height:"0px",popHeight:"100px",interval:!0,popupinfo:[{imgUrl:"http://via.placeholder.com/1920x100",alt:"sample text",link:"http://www.naver.com",target:"_self",bgColor:"#CCC"}],btnTitle:"오늘하루열지않음"},e),n=s(this),o=n[0].classList[0],i=1!=a.popupinfo.length,t="headler",c={openPopup:function(){var l;if("done"==c.getcooki(o))return s(a.extendingElement).css("top",a.Height),void n.remove();n.append((l="",s.each(a.popupinfo,function(e,o){var n=a.popupinfo[e].link,i=a.popupinfo[e].imgUrl,t=a.popupinfo[e].alt,c=a.popupinfo[e].target,p=a.popupinfo[e].bgColor;l+='<div style="background-color:'+p+'" id="popup_banner'+e+'">',l+='<a href="'+n+'" target="'+c+'">',l+='<img src="'+i+'" alt="'+t+'"/>',l+="</a>",l+="</div>"}),1<a.popupinfo.length&&(l+='<span style="position:absolute; top:10px; right:20px; zindex:1" class="item_clt">',s.each(a.popupinfo,function(e,o){l+='<a href="#popup_banner'+e+'" style="font-size:0; display:inline-block; width:15px; height:15px; background-color:#AAA; margin:0 2.5px">'+e+"</a>"}),l+="</span>"),l+='<span class="pop-close-btn" style="position:absolute; right:20px; bottom:10px; font-size:12px">',l+='<input type="checkbox" id="todayCheckbox"/><label for="todayCheckbox"> '+a.btnTitle+"</label>",s(l+="</span>"))).css({overflow:"hidden",position:"relative"}).children("div").css({width:"100%"}).children("a").children("img").on("load",function(){s(this).parent("a").css({display:"inline-block",position:"relative",left:"50%",marginLeft:function(){return-s(this).width()/2}})}),i?(p(a.idx,!1),n.on("click",".item_clt a",function(){a.idx=s(this).index(),p(a.idx,!0)}),a.interval&&(t=setInterval(function(){a.idx++,a.idx==s(".item_clt a").length&&(a.idx=0),p(a.idx,!0)},a.speed),n.on({mouseenter:function(){clearInterval(t)},mouseleave:function(){t=setInterval(function(){a.idx++,a.idx==s(".item_clt a").length&&(a.idx=0),p(a.idx,!0)},a.speed)}}))):s(a.extendingElement).css("top",a.popHeight)},todayclose:function(){s(a.extendingElement).css("top",a.Height),c.setcooki(o,"done",1),n.find(".item_clt a").off("click"),n.off("mouseenter"),n.off("mouseleave"),n.children(".pop-close-btn").off("click"),clearInterval(t),n.remove()},setcooki:function(e,o,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+escape(o)+"; path=/; expires="+i.toGMTString()+";"},getcooki:function(e){for(var o=e+"=",n=0;n<=document.cookie.length;){var i=n+o.length;if(document.cookie.substring(n,i)==o)return-1==(endOfCookie=document.cookie.indexOf(";",i))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(i,endOfCookie));if(0==(n=document.cookie.indexOf(" ",n)+1))break}return""}};function p(e,o){n.children("div").eq(e).addClass("on").show(0,function(){o&&s(this).find("a").css({marginLeft:function(){return-s(this).width()/2}})}).siblings("div").hide().removeClass("on"),n.children(".item_clt").children("a").eq(e).addClass("on").css("backgroundColor","red").siblings("a").css("backgroundColor","#aaa").removeClass("on")}c.openPopup(),n.children(".pop-close-btn").on("click",c.todayclose)}}(jQuery);