!function(p){p.fn.popupEvent=function(o){var a=p.extend({idx:0,speed:2e3,random:!1,extendingElement:"header",Height:"0px",popHeight:"100px",popupinfo:[{imgUrl:"http://via.placeholder.com/1920x100",alt:"sample text",link:"http://www.naver.com",target:"_self",bgColor:"#CCC"}],btnTitle:"오늘하루열지않음"},o),e=p(this),n=e[0].classList[0],t=1!=a.popupinfo.length;t&&console.log("실행됨");var i={openPopup:function(){var l;if("done"==i.getcooki(n))return p(a.extendingElement).css("top",a.Height),void e.hide();e.append((l="",p.each(a.popupinfo,function(o,e){var n=a.popupinfo[o].link,t=a.popupinfo[o].imgUrl,i=a.popupinfo[o].alt,p=a.popupinfo[o].target,c=a.popupinfo[o].bgColor;l+='<div style="background-color:'+c+'" id="popup_banner'+o+'">',l+='<a href="'+n+'" target="'+p+'">',l+='<img src="'+t+'" alt="'+i+'"/>',l+="</a>",l+="</div>"}),1<a.popupinfo.length&&(l+='<span style="position:absolute; top:10px; right:20px; zindex:1" class="item_clt">',p.each(a.popupinfo,function(o,e){l+='<a href="#popup_banner'+o+'" style="font-size:0; display:inline-block; width:15px; height:15px; background-color:#AAA; margin:0 2.5px">'+o+"</a>"}),l+="</span>"),l+='<span class="pop-close-btn" style="position:absolute; right:20px; bottom:10px; font-size:12px">',l+='<input type="checkbox" id="todayCheckbox"/><label for="todayCheckbox"> '+a.btnTitle+"</label>",l+="</span>")).css({overflow:"hidden",position:"relative"}).children("div").css({width:"100%"}).children("a").children("img").on("load",function(){p(this).parent("a").css({display:"inline-block",position:"relative",left:"50%",marginLeft:function(){return-p(this).width()/2}})}),a.random&&(a.idx=Math.floor(Math.random()*a.popupinfo.length)),e.children("div").eq(a.idx).addClass("on").siblings("div").hide(),p(a.extendingElement).css("top",a.popHeight)},todayclose:function(){p(a.extendingElement).css("top",a.Height),e.hide(),i.setcooki(n,"done",1)},setcooki:function(o,e,n){var t=new Date;t.setDate(t.getDate()+n),document.cookie=o+"="+escape(e)+"; path=/; expires="+t.toGMTString()+";"},getcooki:function(o){for(var e=o+"=",n=0;n<=document.cookie.length;){var t=n+e.length;if(document.cookie.substring(n,t)==e)return-1==(endOfCookie=document.cookie.indexOf(";",t))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(t,endOfCookie));if(0==(n=document.cookie.indexOf(" ",n)+1))break}return""}};console.log(t),i.openPopup(),e.children(".pop-close-btn").on("click",i.todayclose)}}(jQuery);