!function(s){s.fn.popupEvent=function(e){var a=s.extend({idx:0,speed:2e3,random:!1,extendingElement:"header",Height:"0px",popHeight:"100px",interval:!0,dotColor:"blue",dotColorBg:"#AAA",popupinfo:[{imgUrl:"http://via.placeholder.com/1920x100",alt:"sample text",link:"http://www.naver.com",target:"_self",bgColor:"#CCC"}],btnTitle:"오늘하루열지않음"},e),n=s(this),o=n[0].classList[0],t=1!=a.popupinfo.length,i="headler",l={openPopup:function(){var p;if("done"==l.getcooki(o))return s(a.extendingElement).css("top",a.Height),void n.remove();n.append((p="",s.each(a.popupinfo,function(e,o){var n=a.popupinfo[e].link,t=a.popupinfo[e].imgUrl,i=a.popupinfo[e].alt,l=a.popupinfo[e].target,c=a.popupinfo[e].bgColor;p+='<div style="background-color:'+c+'" id="popup_banner'+e+'">',p+='<a href="'+n+'" target="'+l+'">',p+='<img src="'+t+'" alt="'+i+'"/>',p+="</a>",p+="</div>"}),1<a.popupinfo.length&&(p+='<span style="position:absolute; top:10px; right:20px; zindex:1" class="item_clt">',s.each(a.popupinfo,function(e,o){p+='<a href="#popup_banner'+e+'" style="font-size:0; display:inline-block; width:15px; height:15px; background-color:'+a.dotColorBg+'; margin:0 2.5px">'+e+"</a>"}),p+="</span>"),p+='<span class="pop-close-btn" style="position:absolute; right:20px; bottom:10px; font-size:12px">',p+='<input type="checkbox" id="todayCheckbox"/><label for="todayCheckbox"> '+a.btnTitle+"</label>",s(p+="</span>"))).css({overflow:"hidden",position:"relative"}).children("div").css({width:"100%"}).children("a").children("img").on("load",function(){s(this).parent("a").css({display:"inline-block",position:"relative",left:"50%",marginLeft:function(){return-s(this).width()/2}})}),t?(c(a.idx,!1),n.on("click",".item_clt a",function(){a.idx=s(this).index(),c(a.idx,!0)}),a.interval&&(i=setInterval(function(){a.idx++,a.idx==s(".item_clt a").length&&(a.idx=0),c(a.idx,!0)},a.speed),n.on({mouseenter:function(){clearInterval(i)},mouseleave:function(){i=setInterval(function(){a.idx++,a.idx==s(".item_clt a").length&&(a.idx=0),c(a.idx,!0)},a.speed)}}))):s(a.extendingElement).css("top",a.popHeight)},todayclose:function(){s(a.extendingElement).css("top",a.Height),l.setcooki(o,"done",1),n.find(".item_clt a").off("click"),n.off("mouseenter"),n.off("mouseleave"),n.children(".pop-close-btn").off("click"),clearInterval(i),n.remove()},setcooki:function(e,o,n){var t=new Date;t.setDate(t.getDate()+n),document.cookie=e+"="+escape(o)+"; path=/; expires="+t.toGMTString()+";"},getcooki:function(e){for(var o=e+"=",n=0;n<=document.cookie.length;){var t=n+o.length;if(document.cookie.substring(n,t)==o)return-1==(endOfCookie=document.cookie.indexOf(";",t))&&(endOfCookie=document.cookie.length),unescape(document.cookie.substring(t,endOfCookie));if(0==(n=document.cookie.indexOf(" ",n)+1))break}return""}};function c(e,o){n.children("div").eq(e).addClass("on").show(0,function(){o&&s(this).find("a").css({marginLeft:function(){return-s(this).width()/2}})}).siblings("div").hide().removeClass("on"),n.children(".item_clt").children("a").eq(e).addClass("on").css("backgroundColor",a.dotColor).siblings("a").css("backgroundColor","#aaa").removeClass("on")}l.openPopup(),n.children(".pop-close-btn").on("click",l.todayclose)}}(jQuery);